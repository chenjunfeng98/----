# 学习笔记

## 一、URL解析

## 二、DNS查询

## 三、TCP链接

## 四、服务器处理请求

## 五、浏览器接受响应

## 六、渲染页面<br>

拿到代码后：浏览器在内存条中开辟出一块栈内存，用来给代码的执行提供环境；同时分配一个主线程去一行行的解析和执行代码(JS是单线程的原因)。


1、解析HTML，生成DOM树(以document为根节点的DOM树)，解析CSS，生成CSSOM树；<br>
2、将DOM树和CSSOM树结合，生成渲染树(Render Tree)。渲染对象和 DOM 对象相对应，但这种对应关系不是一对一的，不可见的 DOM 元素不会被插入渲染树。；<br>
3、Layout(回流)：根据生成的渲染树，计算他们在浏览器的确切位置和大小；<br>
4、Painting(重绘)：根据渲染树以及回流得到的信息，得到节点的绝对像素；<br>
5、Display：将像素发送到GPU，展示在页面上。<br>


当遇到img、link、script等需要额外加载外部资源文件，浏览器将另外开辟新的线程加载文件，主线程继续向下执行。当HTML解析过程中遇到script标签时，将停止HTML解析，转而加载执行JS(JS解析可能会改变HTML的页面结构，例：document.write/appendchild())<br>


重绘(repaint)<br>
改变了某个元素的背景色、文字颜色等等不会影响周围元素的位置变化时，就会发生重绘;<br>

回流/重排(reflow)<br>
当浏览器发现某个部分发现变化影响了布局时，需要倒回去重新渲染，会从html标签开始递归往下，重新计算位置和大小。<br>

reflow基本是无法避免的，因为当你滑动一下鼠标、resize 窗口，页面就会产生变化。<br>



